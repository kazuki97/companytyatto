<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>ç¤¾å†…ãƒãƒ£ãƒƒãƒˆ</title>
  
    <!-- CSS v10 -->
    <link rel="stylesheet" href="styles.css?v=10" />

  </head>  
<body>
  <div class="app">
    <!-- â‘  ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <aside class="nav">
      <!-- ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
      <button class="nav-icon" aria-label="ãƒ›ãƒ¼ãƒ ">ğŸ </button>
      <button class="nav-icon" aria-label="å‹ã ã¡">ğŸ‘¥</button>
      <button class="nav-icon" aria-label="ãƒˆãƒ¼ã‚¯">ğŸ’¬</button>
      <button class="nav-icon" aria-label="ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³">â°</button>
      <button class="nav-icon" aria-label="Keep">ğŸ”–</button>
      
    
      <!-- ãã®ä»–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
      <div class="nav-divider"></div>
      <button class="nav-icon" aria-label="ãã®ä»–">â‹¯</button>
    </aside>
    

    <!-- â‘¡ ãƒ«ãƒ¼ãƒ ä¸€è¦§ -->
    <section class="conversations">
      <div class="conversations-header">
        <button id="add-room-btn" class="add-room">ï¼‹</button>
        <input type="search" id="room-search"
               placeholder="ãƒˆãƒ¼ã‚¯ãƒ«ãƒ¼ãƒ ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œç´¢â€¦" autocomplete="off" />
      </div>
      <ul id="conv-list"></ul>
      <button id="logout" class="logout-btn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
    </section>

    <!-- â‘¡â‡”â‘¢ ãƒªã‚µã‚¤ã‚ºãƒãƒ¼ -->
    <div id="conv-resizer" class="resizer"></div>

        <!-- â‘¢ ãƒãƒ£ãƒƒãƒˆã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ -->
        <main class="chat-window">
          <div id="fixed-date-header" class="fixed-date-header"></div>
        
          <header class="room-bar">
            <div class="room-title">
              ãƒ«ãƒ¼ãƒ ï¼š<span id="room-name">general</span>
              <button id="toggle-search-btn"
                      aria-label="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œç´¢åˆ‡æ›¿">
                ğŸ”
              </button>
            </div>
            <div class="profile-container">
              <img src="path/to/avatar.jpg" alt="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³" class="profile-avatar" />
              <div class="profile-popover">
                <div class="popover-header">
                  <img src="path/to/avatar.jpg" alt="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³" class="avatar-sm" />
                  <div class="user-info">
                    <div class="user-name" id="header-username">å±±ç”° å¤ªéƒ</div>
                    <div class="user-email" id="header-email">taro@example.com</div>
                  </div>
                </div>
                <ul class="popover-menu">
                  <li><a href="settings.html" class="btn-profile-settings">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š</a></li>
                  <li><button class="btn-logout">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button></li>
                </ul>                                  
              </div>
            </header>
            
        
          <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¤œç´¢ãƒãƒ¼ è¿½åŠ  -->
          <div class="message-search-bar">
            <input type="search"
                   id="message-search"
                   placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ¤œç´¢â€¦"
                   autocomplete="off" />
          </div>
    
          <!-- è¿”ä¿¡ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
          <div class="reply-preview hidden">
            <span class="original"></span>
            <button class="cancel-btn" aria-label="ã‚­ãƒ£ãƒ³ã‚»ãƒ«">Ã—</button>
          </div>
        
          <ul id="chat"></ul>

<!-- ã€Œã•ã‚‰ã«èª­ã¿è¾¼ã‚€ã€ãƒœã‚¿ãƒ³ã‚’è¿½åŠ  -->
<div id="load-more-container">
  <button id="load-more-btn">ã•ã‚‰ã«èª­ã¿è¾¼ã‚€</button>
</div>

          <div id="input-bar">
            <input type="text" id="message-input"
                   placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›â€¦" autocomplete="off" />
            <button id="send-btn">é€ä¿¡</button>
          </div>
        </main>    
  </div>

  <!-- ç™ºé€ç®¡ç†ã‚µã‚¤ãƒ‰ãƒ‰ãƒ­ãƒ¯ãƒ¼ -->
  <aside id="shipping-panel">
    <div class="panel">
      <h2>ç™ºé€ç®¡ç†</h2>

      <!-- ã‚¿ãƒ–åˆ‡æ›¿ -->
      <div class="shipping-tabs">
        <button id="tab-active"    class="tab active">é€²è¡Œä¸­</button>
        <button id="tab-completed" class="tab">æœ¬æ—¥å®Œäº†</button>
      </div>

      <!-- é€²è¡Œä¸­ / æœ¬æ—¥å®Œäº† ãƒªã‚¹ãƒˆ -->
      <div id="active-list"><!-- JS ãŒ here ã«æŒ¿å…¥ --></div>
      <div id="completed-list" class="hidden"><!-- JS ãŒ here ã«æŒ¿å…¥ --></div>

      <button id="close-shipping-btn" class="btn-close">é–‰ã˜ã‚‹</button>
    </div>
  </aside>

  <!-- ãƒ«ãƒ¼ãƒ ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="room-modal" class="overlay hidden">
    <div class="modal">
      <h2>ãƒ«ãƒ¼ãƒ ã‚’ä½œæˆ</h2>
      <input type="text" id="new-room-input" placeholder="æ–°ã—ã„ãƒ«ãƒ¼ãƒ å" />
      <div class="modal-buttons">
        <button id="cancel-room-btn" class="btn-cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        <button id="create-room-btn" class="btn-create">ä½œæˆ</button>
      </div>
    </div>
  </div>

   <!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyAC_A8dMvfzc2I8SaKTSfklFDWHgqFZThQ",
    authDomain: "company-chat-app.firebaseapp.com",
    projectId: "company-chat-app",
    storageBucket: "company-chat-app.firebasestorage.app",
    messagingSenderId: "409983657200",
    appId: "1:409983657200:web:bf2f037efb6a292799ce35"
  };

  firebase.initializeApp(firebaseConfig);

  document.addEventListener('DOMContentLoaded', () => {
    firebase.auth().onAuthStateChanged(user => {
      if (user) {
        document.getElementById('header-username').textContent = user.displayName || user.email;
        document.getElementById('header-email').textContent = user.email;
      } else {
        document.getElementById('header-username').textContent = "æœªãƒ­ã‚°ã‚¤ãƒ³";
        document.getElementById('header-email').textContent = "ãƒ¡ãƒ¼ãƒ«æœªç™»éŒ²";
      }
    });
  });
</script>



<!-- ç·¨é›†ï¼å‰Šé™¤å±¥æ­´ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="history-modal" class="overlay hidden">
  <div class="modal">
    <h2>ç·¨é›†ï¼å‰Šé™¤å±¥æ­´</h2>
    <ul id="history-list"></ul>
    <button id="close-history-btn">é–‰ã˜ã‚‹</button>
  </div>
</div>

<!-- main.js v17 ä¿®æ­£ç‰ˆï¼ˆPCãƒ»ã‚¹ãƒãƒ›ç‰ˆä¸¡æ–¹å¯¾å¿œï¼‰ -->
<script src="main.js?v=17" defer></script>


<!-- â–¼â–¼â–¼ ã“ã“ã«è¿½åŠ ã—ã¾ã™ â–¼â–¼â–¼ -->
<div class="bottom-nav">
  <button id="nav-chats" class="active">
    <span class="icon">ğŸ’¬</span>
    <span>ãƒˆãƒ¼ã‚¯</span>
  </button>
  <button id="nav-rooms">
    <span class="icon">ğŸ“ƒ</span>
    <span>ãƒ«ãƒ¼ãƒ ä¸€è¦§</span>
  </button>
  <button id="nav-shipping">
    <span class="icon">ğŸšš</span>
    <span>ç™ºé€ç®¡ç†</span>
  </button>
  
</div>


        

<!-- æ—¢èª­ãƒ¡ãƒ³ãƒãƒ¼ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— -->
<div id="read-members-popup" class="overlay hidden">
  <div class="modal small-modal">
    <h3>æ—¢èª­ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§</h3>
    <ul id="read-members-list"></ul>
    <button id="close-read-members-btn" class="btn-close">é–‰ã˜ã‚‹</button>
  </div>
</div>



</body>
</html>
